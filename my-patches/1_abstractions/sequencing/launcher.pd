#N canvas 771 86 1390 715 12;
#X obj 44 338 inlet;
#X text 42 312 note number from signature;
#X obj 393 147 inlet;
#X text 391 126 ctrl-midi-launch;
#X obj 366 106 inlet;
#X text 364 85 ctrl-midi-record;
#X obj 413 196 inlet;
#X text 411 175 ctrl-midi-loop;
#X text 434 147 bang;
#X text 407 106 bang;
#X text 454 196 bang;
#X obj 393 261 s \$0-i-launch;
#X obj 366 292 s \$0-i-rec;
#X obj 413 227 s \$0-i-loop;
#X obj 110 131 tgl 20 0 \$0-UI-rec-queue \$0-i-UI-rec-queue Record 23 10 0 12 #fcfcfc #000000 #000000 0 1;
#X obj 110 156 tgl 20 0 \$0-UI-launch-queue \$0-i-UI-launch-queue Launch 23 10 0 12 #fcfcfc #000000 #000000 0 1;
#X obj 110 183 tgl 20 0 \$0-UI-loop \$0-i-UI-loop Loop 23 10 0 12 #fcfcfc #000000 #000000 0 1;
#X text 153 103 REC;
#X text 195 103 LAUNCH;
#X text 262 103 LOOP;
#X text 105 234 REC;
#X text 171 235 LAUNCH;
#X text 237 235 END/LOOP;
#X obj 182 131 cnv 20 100 20 empty \$0-i-rec-canvas empty 20 12 0 12 #e0e1e1 #404040 0;
#X obj 182 156 cnv 20 100 20 empty \$0-i-launch-canvas empty 20 12 0 12 #e0e1e1 #404040 0;
#X obj 182 182 cnv 20 100 20 empty \$0-i-loop-canvas empty 20 12 0 12 #e0e1e1 #404040 0;
#X text 21 16 VERSION 0 ----- LAUNCHER/CONTROL ABSTRACTION FOR CLIP;
#X obj 110 106 nbx 2 18 -1e+37 1e+37 0 0 \$0-UI-bar-count \$0-i-UI-bar-count empty 0 -10 0 12 #fcfcfc #000000 #000000 0 256;
#X text 629 206 note on functionality: \; When launch or record queue are on \, as soon as note 1 arrives \, they will outlet to sequencer. To have the correct number of bars to play after launch or record starts \, on the output of queue it should reset the bar number we are in \, by resetting the bar counter., f 52;
#X obj 113 209 hsl 168 20 1 3 0 0 \$0-slider-dummy \$0-i-slider empty -2 -10 0 12 #fcfcfc #000000 #000000 0 1;
#N canvas 223 81 533 599 launch-counter 0;
#X obj 254 223 nbx 2 18 -1e+37 1e+37 0 0 empty empty bar-count 36 10 0 12 #fcfcfc #000000 #000000 0 256;
#X obj 115 73 sel 1;
#X obj 115 102 f;
#X obj 122 126 + 1;
#X obj 115 152 + 1;
#X obj 115 223 sel, f 14;
#X obj 115 250 bng 20 250 50 0 empty empty end -25 10 0 12 #fcfcfc #000000 #000000;
#X obj 223 223 + 1;
#X msg 196 140 1;
#X obj 254 166 f \$1;
#X obj 254 140 loadbang;
#X msg 115 441 1;
#X msg 254 250 set \$1;
#X obj 254 275 s \$0-i-UI-bar-count;
#X obj 269 193 r \$0-UI-bar-count;
#X obj 196 73 inlet;
#X text 194 48 Restart Counter;
#X obj 115 468 outlet;
#X obj 115 42 inlet;
#X text 112 16 note number from signature;
#X obj 36 467 outlet;
#X text 34 489 First-Note-bang for Laucher and/or recorder, f 9;
#X text 112 491 Multi-ba finished, f 9;
#X obj 115 192 nbx 3 18 -1e+37 1e+37 0 0 empty empty bar-x-starts -89 8 0 12 #fcfcfc #000000 #000000 0 256;
#X obj 154 270 del 1;
#X text 154 292 del 1 is added due to buggy behaviour of number sent. in case of 2nd bar it sends out consecutively 1 and then 3 instead of 3 and then 1 no issue for the performance since there is a buffer time till next "first note" bang anyways, f 37;
#X obj 165 191 s \$0-bar-x;
#X connect 0 0 7 0;
#X connect 0 0 12 0;
#X connect 1 0 2 0;
#X connect 1 0 20 0;
#X connect 2 0 3 0;
#X connect 2 0 4 0;
#X connect 3 0 2 1;
#X connect 4 0 23 0;
#X connect 5 0 6 0;
#X connect 6 0 11 0;
#X connect 6 0 24 0;
#X connect 7 0 5 1;
#X connect 8 0 2 1;
#X connect 8 0 23 0;
#X connect 9 0 0 0;
#X connect 10 0 9 0;
#X connect 11 0 17 0;
#X connect 12 0 13 0;
#X connect 14 0 0 0;
#X connect 15 0 8 0;
#X connect 18 0 1 0;
#X connect 23 0 5 0;
#X connect 23 0 26 0;
#X connect 24 0 8 0;
#X restore 44 403 pd launch-counter;
#N canvas 582 275 503 547 end-loop-func 0;
#X obj 109 96 tgl 20 0 empty empty loop 23 10 0 12 #fcfcfc #000000 #000000 0 1;
#X obj 78 96 *;
#X floatatom 78 175 5 0 0 0 - - - 0;
#X text 15 167 0: end 1: loop, f 8;
#X obj 149 40 r \$0-i-loop;
#X msg 135 121 set \$1;
#X obj 135 146 s \$0-i-UI-loop;
#X obj 154 64 r \$0-UI-loop;
#X obj 104 333 sel 1 0, f 10;
#N canvas 569 467 450 174 color-loop 0;
#X msg 140 67 color #e0e1e1;
#X obj 16 34 inlet;
#X obj 140 33 inlet;
#X obj 221 34 loadbang;
#X msg 16 67 color #8486f6;
#X obj 16 108 s \$0-i-loop-canvas;
#X connect 0 0 5 0;
#X connect 1 0 4 0;
#X connect 2 0 0 0;
#X connect 3 0 0 0;
#X connect 4 0 5 0;
#X restore 104 369 pd color-loop;
#X text 140 422 Sending out end (0) will stop recording and playing in target sequencer. Sending out loop (1) ask target sequencer to loop/continue play and record., f 44;
#X obj 78 288 spigot;
#X obj 130 288 tgl 20 0 empty empty empty 0 -10 0 12 #fcfcfc #000000 #000000 0 1;
#X msg 181 259 0;
#X obj 130 210 sel 0 1, f 15;
#X obj 130 235 del 10;
#X msg 130 260 1;
#X floatatom 78 425 5 0 0 0 - - - 0;
#X obj 197 287 loadbang;
#X msg 163 287 1;
#X obj 130 184 r \$0-end-pass;
#X obj 209 370 s \$0-end;
#X obj 78 449 outlet;
#X obj 78 26 inlet;
#X text 243 181 when Launch or record is on queue \, do not send end/loop on the first note \, can send from next first notes depending on bar-count., f 28;
#X connect 0 0 1 1;
#X connect 0 0 5 0;
#X connect 1 0 2 0;
#X connect 2 0 11 0;
#X connect 4 0 0 0;
#X connect 5 0 6 0;
#X connect 7 0 0 0;
#X connect 8 0 9 0;
#X connect 8 1 9 1;
#X connect 8 1 21 0;
#X connect 11 0 8 0;
#X connect 11 0 17 0;
#X connect 12 0 11 1;
#X connect 13 0 12 0;
#X connect 14 0 15 0;
#X connect 14 1 13 0;
#X connect 15 0 16 0;
#X connect 16 0 12 0;
#X connect 17 0 22 0;
#X connect 18 0 19 0;
#X connect 19 0 12 0;
#X connect 20 0 14 0;
#X connect 23 0 1 0;
#X restore 286 451 pd end-loop-func;
#N canvas 1043 247 542 493 recorder-func 0;
#X obj 58 140 spigot;
#X obj 112 140 tgl 20 0 empty empty record-queue 23 10 0 12 #fcfcfc #000000 #000000 0 1;
#X obj 150 86 r \$0-i-rec;
#X msg 112 171 set \$1;
#X obj 112 196 s \$0-i-UI-rec-queue;
#X obj 152 113 r \$0-UI-rec-queue;
#X msg 112 86 0;
#X msg 103 343 set 0;
#X obj 103 369 s i-mpd-pad-7-rec-queue;
#X obj 58 49 inlet;
#X obj 58 171 bng 20 250 50 0 empty empty empty 0 -10 0 12 #fcfcfc #000000 #000000;
#N canvas 569 467 450 174 color-rec 0;
#X msg 140 67 color #e0e1e1;
#X obj 16 34 inlet;
#X obj 140 33 inlet;
#X obj 221 34 loadbang;
#X msg 16 67 color #ff0000;
#X obj 16 108 s \$0-i-rec-canvas;
#X connect 0 0 5 0;
#X connect 1 0 4 0;
#X connect 2 0 0 0;
#X connect 3 0 0 0;
#X connect 4 0 5 0;
#X restore 187 344 pd color-rec;
#X obj 268 235 r \$0-end;
#X obj 58 403 outlet;
#X obj 193 171 s \$0-end-pass;
#X text 55 27 First-Note-bang;
#X text 285 345 To stop recording even if loop is on: could tap on record pad again and the next bang sent will stop recording in target sequencer \; To stop playing simply remove loop., f 36;
#X obj 268 288 tgl 20 0 empty empty empty 0 -10 0 12 #fcfcfc #000000 #000000 0 1;
#X obj 268 313 sel 0;
#X msg 268 260 0;
#X connect 0 0 10 0;
#X connect 1 0 0 1;
#X connect 1 0 3 0;
#X connect 1 0 14 0;
#X connect 2 0 1 0;
#X connect 3 0 4 0;
#X connect 5 0 1 0;
#X connect 6 0 1 0;
#X connect 7 0 8 0;
#X connect 9 0 0 0;
#X connect 10 0 6 0;
#X connect 10 0 7 0;
#X connect 10 0 11 0;
#X connect 10 0 13 0;
#X connect 10 0 17 0;
#X connect 12 0 19 0;
#X connect 17 0 18 0;
#X connect 18 0 11 1;
#X connect 19 0 17 0;
#X restore 44 451 pd recorder-func;
#N canvas 115 81 450 484 launch-func 0;
#X obj 33 179 spigot;
#X obj 86 178 tgl 20 0 empty empty launch-queue 23 10 0 12 #fcfcfc #000000 #000000 0 1;
#X msg 86 109 0;
#X obj 33 207 bng 20 250 50 0 empty empty empty 0 -10 0 12 #fcfcfc #000000 #000000;
#X obj 124 109 r \$0-i-launch;
#X msg 86 208 set \$1;
#X obj 86 233 s \$0-i-UI-launch-queue;
#X obj 131 134 r \$0-UI-launch-queue;
#N canvas 569 467 450 174 color-launch 0;
#X msg 16 67 color #00e200;
#X obj 16 108 s \$0-i-launch-canvas;
#X msg 140 67 color #e0e1e1;
#X obj 16 34 inlet;
#X obj 140 33 inlet;
#X obj 221 34 loadbang;
#X connect 0 0 1 0;
#X connect 2 0 1 0;
#X connect 3 0 0 0;
#X connect 4 0 2 0;
#X connect 5 0 2 0;
#X restore 138 313 pd color-launch;
#X msg 83 312 set 0;
#X obj 83 338 s i-mpd-pad-9-launch-queue;
#X obj 151 208 s \$0-end-pass;
#X obj 240 288 r \$0-end;
#X obj 33 410 outlet;
#X obj 33 53 inlet;
#X text 33 29 First-Note-bang;
#X connect 0 0 3 0;
#X connect 1 0 0 1;
#X connect 1 0 5 0;
#X connect 1 0 11 0;
#X connect 2 0 1 0;
#X connect 3 0 8 0;
#X connect 3 0 9 0;
#X connect 3 0 2 0;
#X connect 3 0 13 0;
#X connect 4 0 1 0;
#X connect 5 0 6 0;
#X connect 7 0 1 0;
#X connect 9 0 10 0;
#X connect 12 0 8 1;
#X connect 14 0 0 0;
#X restore 173 451 pd launch-func;
#X obj 44 511 outlet;
#X obj 173 513 outlet;
#X obj 286 514 outlet;
#X text 628 15 Launcher Abstraction \; -------------------- \; - expects a construction parameter defining bar count \; - construction parameter Could be changed on go but not saved. to change needs to make another abstraction with the desired parameter \; - recieves bangs for record \, launch and loop respectively \; - outputs to a sequencer or anywhere the following: \; * Bang when recording should start \; * Bang when Launch should start \; * 0 to stop the sequencer at the end of all bars \; OR \; * 1 to relaunch at the end of all bars \;, f 138;
#X obj 44 364 unpack f f;
#X obj 125 364 s \$0-bar-duration;
#N canvas 115 81 450 300 slider-run-func 0;
#X obj 28 245 s \$0-i-slider;
#X obj 28 79 loadbang;
#X obj 28 104 f \$1;
#X obj 114 171 line;
#X msg 114 88 \$1;
#X obj 150 88 + 1;
#X obj 114 61 t f f;
#X msg 150 143 \$1 \$2;
#X obj 203 89 r \$0-bar-duration;
#X obj 150 118 pack f f;
#X obj 28 129 + 1;
#X msg 28 172 range 1 \$1;
#X obj 114 32 r \$0-bar-x;
#X connect 1 0 2 0;
#X connect 2 0 10 0;
#X connect 3 0 0 0;
#X connect 4 0 3 0;
#X connect 5 0 9 0;
#X connect 6 0 5 0;
#X connect 6 1 4 0;
#X connect 7 0 3 0;
#X connect 8 0 9 1;
#X connect 9 0 7 0;
#X connect 10 0 11 0;
#X connect 11 0 0 0;
#X connect 12 0 6 0;
#X restore 102 265 pd slider-run-func;
#X text 629 335 in its first inlet receives a list \; 1- note number: to later extract first notes in launch-counter \; 2- bar-duration: only needed for slider simulation \;, f 65;
#X connect 0 0 38 0;
#X connect 2 0 11 0;
#X connect 4 0 12 0;
#X connect 6 0 13 0;
#X connect 30 0 32 0;
#X connect 30 0 33 0;
#X connect 30 1 31 0;
#X connect 31 0 36 0;
#X connect 32 0 34 0;
#X connect 32 0 30 1;
#X connect 33 0 35 0;
#X connect 33 0 30 1;
#X connect 38 0 30 0;
#X connect 38 1 39 0;
#X coords 0 -1 1 1 201 155 2 100 100;
