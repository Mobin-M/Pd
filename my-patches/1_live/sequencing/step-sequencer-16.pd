#N canvas 377 239 818 343 12;
#N canvas 383 119 1059 448 STEP-ENGINE 0;
#X obj 27 8 inlet;
#X obj 351 31 inlet;
#X obj 27 125 sel 1 2 3 4 5 6 7 8;
#X text 350 8 BAR-DURATI0N;
#X obj 76 32 bng 20 250 50 0 empty empty empty 0 -10 0 12 #ff0400 #000000 #000000;
#X msg 76 68 0;
#X obj 114 75 print -n;
#X obj 76 100 s i-clock-on;
#X msg 114 52 error: NO BANK;
#X obj 27 369 outlet;
#X obj 111 371 outlet;
#X text 18 391 STEP-PLAY;
#X text 99 393 STEP-VELOCITY;
#X obj 790 140 r \$0-bank-edit;
#X obj 790 165 + 1;
#X floatatom 790 190 5 0 0 0 - - - 0;
#X obj 790 214 sel 1 2 3 4 5 6 7 8, f 23;
#X obj 117 234 ss-bank-16 2;
#X obj 207 234 ss-bank-16 3;
#X obj 297 234 ss-bank-16 4;
#X obj 387 234 ss-bank-16 5;
#X obj 477 234 ss-bank-16 6;
#X obj 567 234 ss-bank-16 7;
#X obj 657 234 ss-bank-16 8;
#X obj 27 234 ss-bank-16 1;
#X text 830 190 SELECTOR TO OPEN THE GUI;
#X text 488 12 WHEN GUI IS SAVED THE PARAMETERS WILL BE OUTPUTTED TO BE SAVED IN THE MOTHER (STEP-SEQUENCER-16) \$0-PARAMETER PATCH. THEN WHEN THE MAIN PATCH (PARENT OF STEP SEQUENCER) IS SAVED \, WITH A SAVESTATE IN STEP-SEQUENCER \$0-PARAMETER WILL BE KEPT. AND LATER WHEN RELOADED \, IT WILL BE ROUTED TO THE CORRESPONDING BANK!;
#N canvas 381 328 499 503 PARAMETER-MANAGEMENT 0;
#X floatatom 81 99 5 0 0 0 - - - 0;
#X obj 22 55 list split 1;
#X obj 22 105 list;
#X obj 22 79 t b f;
#X obj 22 150 text set \$0-parameters 0 1;
#X obj 81 123 - 1;
#X obj 22 25 inlet;
#X obj 227 84 text define -k \$0-parameters;
#A set 1 0 0 0 0 0 0 0 0 0 0 0 0 0 0 0 0 0 0 0 0 0 0 0 0 0 0 0 0 0 0 0 0 0 0 0 0 0 0 0 0 0 0 0 0 0 0 0 0 \; 2 0 0 0 0 0 0 0 0 0 0 0 0 0 0 0 0 0 0 0 0 0 0 0 0 0 0 0 0 0 0 0 0 0 0 0 0 0 0 0 0 0 0 0 0 0 0 0 0 \; 3 0 0 0 0 0 0 0 0 0 0 0 0 0 0 0 0 0 0 0 0 0 0 0 0 0 0 0 0 0 0 0 0 0 0 0 0 0 0 0 0 0 0 0 0 0 0 0 0 \; 4 0 0 0 0 0 0 0 0 0 0 0 0 0 0 0 0 0 0 0 0 0 0 0 0 0 0 0 0 0 0 0 0 0 0 0 0 0 0 0 0 0 0 0 0 0 0 0 0 \; 5 0 0 0 0 0 0 0 0 0 0 0 0 0 0 0 0 0 0 0 0 0 0 0 0 0 0 0 0 0 0 0 0 0 0 0 0 0 0 0 0 0 0 0 0 0 0 0 0 \; 6 0 0 0 0 0 0 0 0 0 0 0 0 0 0 0 0 0 0 0 0 0 0 0 0 0 0 0 0 0 0 0 0 0 0 0 0 0 0 0 0 0 0 0 0 0 0 0 0 \; 7 0 0 0 0 0 0 0 0 0 0 0 0 0 0 0 0 0 0 0 0 0 0 0 0 0 0 0 0 0 0 0 0 0 0 0 0 0 0 0 0 0 0 0 0 0 0 0 0 \; 8 0 0 0 0 0 0 0 0 0 0 0 0 0 0 0 0 0 0 0 0 0 0 0 0 0 0 0 0 0 0 0 0 0 0 0 0 0 0 0 0 0 0 0 0 0 0 0 0 \;;
#X text 226 47 8 ROW OF SWITCH-SWING-VELOCITY WITH SELECTOR AS BANK NUMBER, f 31;
#X obj 21 185 savestate;
#X obj 81 237 text sequence \$0-parameters;
#X obj 69 358 text set \$0-parameters 0 1;
#X msg 81 212 line 0 \, auto;
#X floatatom 128 307 5 0 0 0 - - - 0;
#X obj 69 263 list split 1;
#X obj 69 313 list;
#X obj 69 287 t b f;
#X obj 128 331 - 1;
#X obj 21 389 outlet;
#X text 71 390 OUTLETS ALL TEXT WITH SELECTORS;
#X text 20 4 INLET IS LOCAL-PARAM SAVED WITH SELECTOR;
#X connect 0 0 5 0;
#X connect 1 0 3 0;
#X connect 1 1 2 1;
#X connect 2 0 4 0;
#X connect 3 0 2 0;
#X connect 3 1 0 0;
#X connect 5 0 4 1;
#X connect 6 0 1 0;
#X connect 9 0 14 0;
#X connect 9 0 18 0;
#X connect 9 1 12 0;
#X connect 10 0 9 0;
#X connect 12 0 10 0;
#X connect 13 0 17 0;
#X connect 14 0 16 0;
#X connect 14 1 15 1;
#X connect 15 0 11 0;
#X connect 16 0 15 0;
#X connect 16 1 13 0;
#X connect 17 0 11 1;
#X restore 791 254 pd PARAMETER-MANAGEMENT;
#X obj 585 179 route 1 2 3 4 5 6 7 8;
#X connect 0 0 2 0;
#X connect 1 0 24 1;
#X connect 1 0 23 1;
#X connect 1 0 22 1;
#X connect 1 0 21 1;
#X connect 1 0 20 1;
#X connect 1 0 19 1;
#X connect 1 0 18 1;
#X connect 1 0 17 1;
#X connect 2 0 24 0;
#X connect 2 1 17 0;
#X connect 2 2 18 0;
#X connect 2 3 19 0;
#X connect 2 4 20 0;
#X connect 2 5 21 0;
#X connect 2 6 22 0;
#X connect 2 7 23 0;
#X connect 2 8 4 0;
#X connect 4 0 5 0;
#X connect 4 0 8 0;
#X connect 8 0 6 0;
#X connect 13 0 14 0;
#X connect 14 0 15 0;
#X connect 15 0 16 0;
#X connect 16 0 24 3;
#X connect 16 1 17 3;
#X connect 16 2 18 3;
#X connect 16 3 19 3;
#X connect 16 4 20 3;
#X connect 16 5 21 3;
#X connect 16 6 22 3;
#X connect 16 7 23 3;
#X connect 17 0 9 0;
#X connect 17 1 10 0;
#X connect 17 2 27 0;
#X connect 18 0 9 0;
#X connect 18 1 10 0;
#X connect 18 2 27 0;
#X connect 19 0 9 0;
#X connect 19 1 10 0;
#X connect 19 2 27 0;
#X connect 20 0 9 0;
#X connect 20 1 10 0;
#X connect 20 2 27 0;
#X connect 21 0 9 0;
#X connect 21 1 10 0;
#X connect 21 2 27 0;
#X connect 22 0 9 0;
#X connect 22 1 10 0;
#X connect 22 2 27 0;
#X connect 23 0 9 0;
#X connect 23 1 10 0;
#X connect 23 2 27 0;
#X connect 24 0 9 0;
#X connect 24 1 10 0;
#X connect 24 2 27 0;
#X connect 27 0 28 0;
#X connect 28 0 24 2;
#X connect 28 1 17 2;
#X connect 28 2 18 2;
#X connect 28 3 19 2;
#X connect 28 4 20 2;
#X connect 28 5 21 2;
#X connect 28 6 22 2;
#X connect 28 7 23 2;
#X restore 15 236 pd STEP-ENGINE;
#X f 21;
#N canvas 927 393 398 171 PARAM-INIT 0;
#X obj 22 11 loadbang;
#X msg 55 59 0;
#X obj 23 107 s \$0-local-bang;
#X obj 55 81 s i-clock-on;
#X obj 23 35 t b b;
#X text 92 45 WHEN NEW STEP-SEQUENCER ADDED TURN OFF MASTER CLOCK, f 27;
#X connect 0 0 4 0;
#X connect 1 0 3 0;
#X connect 4 0 2 0;
#X connect 4 1 1 0;
#X restore 254 58 pd PARAM-INIT;
#X floatatom 15 154 6 0 8 1 BANK - - 0;
#X obj 15 125 inlet;
#X text 13 105 VARIATION BANK;
#X obj 159 126 inlet;
#X floatatom 159 208 5 0 0 1 BAR\ DURATION - - 0;
#X obj 159 151 unpack f f;
#X obj 159 175 bng 20 250 50 0 empty empty empty 0 -10 0 12 #fcfcfc #000000 #000000;
#X text 158 105 SIGNATURE;
#X text 240 150 EXTRACTING ONLY BAR DURATION;
#X obj 15 261 outlet;
#X obj 159 262 outlet;
#X text 13 282 STEP-PLAY;
#X text 158 282 STEP-VELOCITY;
#X text 251 1 VERSION 2: MULTI-BANK \, SIGNLE-BAR \, STEP SEQUENCER;
#X text 251 19 STEP ENGINE \, AS REQUENSTED BY VARIATION BANK INPUT \, RUNS THE "16" STEPS WITH CORRECT TIMING \, CALCULATED THROUGH SIGNATURE INPUT \, ONLY ONCE., f 73;
#X text 10 2 STEP-SEQUENCER(16) - 8 BANKS;
#X obj 23 182 s \$0-bank-gui;
#X floatatom 7 28 4 0 0 1 BANK-PLAYING \$0-bank-gui \$0-bank-gui-dummy 0;
#X obj 7 52 hradio 20 1 0 8 \$0-bank-edit \$0-bank-edit-dummy OPEN/EDIT 165 10 0 12 #fcfcfc #000000 #000000 0;
#X text 486 98 FOR SOME REASON \, IF i HAVE MULTIPLE STEP-SEQUENCER AND I SAVE ONE OF THEM \, THE SS-BANK ABSTRACTIONS \, SHARE THE SAVESTATE WITH EACH OTHER. SO NEXT TIME LOADED (WHICH WOULD BE AS ANY OF THE SAVED) THEY WILL HAVE THE SAME PARAMETERS. ONE WAY TO AVOID THIS IS TO DO PARAMETER MANAGEMENT INSIDE STEP-SEQUENCER ABSTRACTION NOT IN SS-BANK. ALSO BETTER TO SAVE PARAMTERS (SAVESTATE) IN STEP-SEQUENCER SO WHEN SAVING MAIN \, IT WOULD BE TRIGGERED, f 38;
#X connect 0 0 11 0;
#X connect 0 1 12 0;
#X connect 2 0 0 0;
#X connect 2 0 18 0;
#X connect 3 0 2 0;
#X connect 5 0 7 0;
#X connect 6 0 0 1;
#X connect 7 0 8 0;
#X connect 7 1 6 0;
#X coords 0 -1 1 1 240 80 2 0 0;
