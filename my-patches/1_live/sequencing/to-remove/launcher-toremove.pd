#N canvas 52 20 747 977 12;
#X obj 609 35 inlet;
#X text 607 7 note number from signature;
#X obj 748 197 nbx 2 18 -1e+37 1e+37 0 0 empty empty bar-count 36 10 0 12 #fcfcfc #000000 #000000 0 256;
#X obj 609 73 sel 1;
#X obj 609 104 f;
#X obj 639 104 + 1;
#X obj 609 131 + 1;
#X floatatom 609 158 5 0 0 0 bar-x-starts - - 0;
#X obj 609 197 sel, f 14;
#X obj 609 240 bng 20 250 50 0 empty empty end -25 10 0 12 #fcfcfc #000000 #000000;
#X obj 735 301 bng 20 250 50 0 empty empty launch 23 10 0 12 #fcfcfc #000000 #000000;
#X obj 746 463 spigot;
#X obj 785 427 tgl 20 0 empty empty launch-queue 23 10 0 12 #fcfcfc #000000 #000000 0 1;
#X obj 717 197 + 1;
#X msg 537 74 1;
#X obj 1101 472 spigot;
#X obj 1140 424 tgl 20 0 empty empty record-queue 23 10 0 12 #fcfcfc #000000 #000000 0 1;
#X obj 746 875 outlet;
#X obj 1100 897 outlet;
#X obj 748 158 f \$1;
#X obj 748 132 loadbang;
#X msg 755 489 0;
#X obj 536 386 tgl 20 0 empty empty loop 23 10 0 12 #fcfcfc #000000 #000000 0 1;
#X obj 746 525 bng 20 250 50 0 empty empty empty 0 -10 0 12 #fcfcfc #000000 #000000;
#X obj 1101 533 bng 20 250 50 0 empty empty empty 0 -10 0 12 #fcfcfc #000000 #000000;
#X obj 505 386 *;
#X floatatom 505 465 5 0 0 0 - - - 0;
#X msg 609 269 1;
#X text 442 457 0: end 1: loop, f 8;
#X obj 1039 87 inlet;
#X text 1037 66 ctrl-midi-launch;
#X obj 1012 46 inlet;
#X text 1010 25 ctrl-midi-record;
#X obj 1059 136 inlet;
#X text 1057 115 ctrl-midi-loop;
#X text 1080 87 bang;
#X text 1053 46 bang;
#X text 1100 136 bang;
#X obj 1039 201 s \$0-i-launch;
#X obj 1012 232 s \$0-i-rec;
#X obj 1059 167 s \$0-i-loop;
#X obj 110 131 tgl 20 0 \$0-UI-rec-queue \$0-i-UI-rec-queue Record 23 10 0 12 #fcfcfc #000000 #000000 0 1;
#X obj 110 156 tgl 20 0 \$0-UI-launch-queue \$0-i-UI-launch-queue Launch 23 10 0 12 #fcfcfc #000000 #000000 0 1;
#X obj 110 183 tgl 20 0 \$0-UI-loop \$0-i-UI-loop Loop 23 10 0 12 #fcfcfc #000000 #000000 0 1;
#X obj 807 373 r \$0-i-launch;
#X obj 1159 370 r \$0-i-rec;
#X obj 576 330 r \$0-i-loop;
#X msg 804 457 set \$1;
#X obj 804 482 s \$0-i-UI-launch-queue;
#X obj 813 396 r \$0-UI-launch-queue;
#X msg 1174 454 set \$1;
#X obj 1174 479 s \$0-i-UI-rec-queue;
#X obj 1168 393 r \$0-UI-rec-queue;
#X msg 562 411 set \$1;
#X obj 562 436 s \$0-i-UI-loop;
#X obj 581 354 r \$0-UI-loop;
#X text 153 103 REC;
#X text 195 103 LAUNCH;
#X text 262 103 LOOP;
#X text 105 234 REC;
#X text 171 235 LAUNCH;
#X text 237 235 END/LOOP;
#X obj 182 131 cnv 20 100 20 empty \$0-i-rec-canvas empty 20 12 0 12 #e0e1e1 #404040 0;
#X obj 182 156 cnv 20 100 20 empty \$0-i-launch-canvas empty 20 12 0 12 #e0e1e1 #404040 0;
#X obj 182 182 cnv 20 100 20 empty \$0-i-loop-canvas empty 20 12 0 12 #e0e1e1 #404040 0;
#N canvas 569 467 450 174 color-launch 0;
#X msg 16 67 color #00e200;
#X obj 16 108 s \$0-i-launch-canvas;
#X msg 140 67 color #e0e1e1;
#X obj 16 34 inlet;
#X obj 140 33 inlet;
#X obj 221 34 loadbang;
#X connect 0 0 1 0;
#X connect 2 0 1 0;
#X connect 3 0 0 0;
#X connect 4 0 2 0;
#X connect 5 0 2 0;
#X restore 768 652 pd color-launch;
#X obj 542 613 sel 1 0, f 10;
#N canvas 569 467 450 174 color-loop 0;
#X msg 140 67 color #e0e1e1;
#X obj 16 34 inlet;
#X obj 140 33 inlet;
#X obj 221 34 loadbang;
#X msg 16 67 color #8486f6;
#X obj 16 108 s \$0-i-loop-canvas;
#X connect 0 0 5 0;
#X connect 1 0 4 0;
#X connect 2 0 0 0;
#X connect 3 0 0 0;
#X connect 4 0 5 0;
#X restore 542 650 pd color-loop;
#N canvas 569 467 450 174 color-rec 0;
#X msg 140 67 color #e0e1e1;
#X obj 16 34 inlet;
#X obj 140 33 inlet;
#X obj 221 34 loadbang;
#X msg 16 67 color #ff0000;
#X obj 16 108 s \$0-i-rec-canvas;
#X connect 0 0 5 0;
#X connect 1 0 4 0;
#X connect 2 0 0 0;
#X connect 3 0 0 0;
#X connect 4 0 5 0;
#X restore 1138 651 pd color-rec;
#X text 186 670 Sending out end (0) will stop recording and playing in target sequencer. Sending out loop (1) ask target sequencer to loop/continue play and record., f 44;
#X msg 1110 506 0;
#X text 1296 402 To stop recording even if loop is on: could tap on record pad again and the next bang sent will stop recording in target sequencer \; To stop playing simply remove loop., f 55;
#X text 1287 877 TO ADD LATER ON IF NECESSARY \, RAPID STOP and maybe START functionality;
#X obj 1219 600 tgl 20 0 empty empty empty 0 -10 0 12 #fcfcfc #000000 #000000 0 1;
#X obj 1219 625 sel 0;
#X obj 500 875 outlet;
#X obj 505 578 spigot;
#X obj 557 578 tgl 20 0 empty empty empty 0 -10 0 12 #fcfcfc #000000 #000000 0 1;
#X msg 607 541 0;
#X obj 556 492 sel 0 1, f 15;
#X obj 556 517 del 10;
#X msg 556 542 1;
#X text 335 498 when sending launch \, do not send end/loop on the same instant \, can send from next cycle \, same for record, f 28;
#X obj 746 746 bng 20 250 50 0 empty empty empty 0 -10 0 12 #fcfcfc #000000 #000000;
#X floatatom 505 745 5 0 0 0 - - - 0;
#X obj 1101 768 bng 20 250 50 0 empty empty empty 0 -10 0 12 #fcfcfc #000000 #000000;
#X obj 624 577 loadbang;
#X msg 590 577 1;
#X text 21 16 VERSION 0 ----- LAUNCHER/CONTROL ABSTRACTION FOR CLIP;
#X msg 1177 515 set 0;
#X obj 1177 541 s i-mpd-pad-7-rec-queue;
#X msg 804 514 set 0;
#X obj 804 540 s i-mpd-pad-9-launch-queue;
#X msg 782 229 set \$1;
#X obj 782 254 s \$0-i-UI-bar-count;
#X obj 794 167 r \$0-UI-bar-count;
#X obj 110 106 nbx 2 18 -1e+37 1e+37 0 0 \$0-UI-bar-count \$0-i-UI-bar-count empty 0 -10 0 12 #fcfcfc #000000 #000000 0 256;
#X text 1217 26 Launcher Abstraction \; -------------------- \; - expects a construction parameter defining bar count. Could be changed on go but not saved. to change needs to make another abstraction with the desired parameter \; - recieves bangs for record \, launch and loop respectively \; - outputs to a sequencer or anywhere the following: \; * Bang when recording should start \; * Bang when Launch should start \; * 0 to stop the sequencer at the end of all bars \; OR \; * 1 to relaunch at the end of all bars \;, f 86;
#X text 13 370 note on functionality: \; When launch or record queue are on \, as soon as note 1 arrives \, they will outlet to sequencer. To have the correct number of bars to play after launch or record starts \, on the output of queue it should reset the bar number we are in \, by resetting the bar counter., f 52;
#X text 1285 813 Later to design a much clearner patch or potentially write the functionality as an external!, f 51;
#X obj 113 209 hsl 168 20 0 0 0 0 \$0-slider-dummy \$0-i-slider empty -2 -10 0 12 #fcfcfc #000000 #000000 0 1;
#X obj 326 319 s \$0-i-slider;
#X obj 326 174 loadbang;
#X obj 326 199 f \$1;
#X obj 412 245 line;
#X msg 326 223 range 0 \$1;
#X msg 412 189 \$1;
#X obj 456 191 + 1;
#X msg 456 216 \$1 1000;
#X text 80 267 Need of bar duration (1000) \, meaning extra input to abstraction. DO IT? could get it together with note number from signature, f 34;
#X connect 0 0 3 0;
#X connect 2 0 13 0;
#X connect 2 0 93 0;
#X connect 3 0 4 0;
#X connect 3 0 10 0;
#X connect 4 0 5 0;
#X connect 4 0 6 0;
#X connect 5 0 4 1;
#X connect 6 0 7 0;
#X connect 7 0 8 0;
#X connect 7 0 106 0;
#X connect 7 0 107 0;
#X connect 8 0 9 0;
#X connect 9 0 14 0;
#X connect 9 0 27 0;
#X connect 10 0 11 0;
#X connect 10 0 15 0;
#X connect 11 0 21 0;
#X connect 11 0 23 0;
#X connect 11 0 91 0;
#X connect 11 0 14 0;
#X connect 12 0 11 1;
#X connect 12 0 47 0;
#X connect 12 0 79 0;
#X connect 13 0 8 1;
#X connect 14 0 4 1;
#X connect 14 0 7 0;
#X connect 15 0 24 0;
#X connect 15 0 70 0;
#X connect 15 0 89 0;
#X connect 15 0 14 0;
#X connect 16 0 15 1;
#X connect 16 0 50 0;
#X connect 16 0 79 0;
#X connect 19 0 2 0;
#X connect 20 0 19 0;
#X connect 21 0 12 0;
#X connect 22 0 25 1;
#X connect 22 0 53 0;
#X connect 23 0 65 0;
#X connect 23 0 83 0;
#X connect 24 0 73 0;
#X connect 24 0 68 0;
#X connect 24 0 85 0;
#X connect 25 0 26 0;
#X connect 26 0 76 0;
#X connect 27 0 25 0;
#X connect 29 0 38 0;
#X connect 31 0 39 0;
#X connect 33 0 40 0;
#X connect 44 0 12 0;
#X connect 45 0 16 0;
#X connect 46 0 22 0;
#X connect 47 0 48 0;
#X connect 49 0 12 0;
#X connect 50 0 51 0;
#X connect 52 0 16 0;
#X connect 53 0 54 0;
#X connect 55 0 22 0;
#X connect 66 0 67 0;
#X connect 66 1 67 1;
#X connect 66 1 65 1;
#X connect 66 1 68 1;
#X connect 70 0 16 0;
#X connect 73 0 74 0;
#X connect 74 0 68 1;
#X connect 76 0 66 0;
#X connect 76 0 84 0;
#X connect 77 0 76 1;
#X connect 78 0 77 0;
#X connect 79 0 80 0;
#X connect 79 1 78 0;
#X connect 80 0 81 0;
#X connect 81 0 77 0;
#X connect 83 0 17 0;
#X connect 84 0 18 0;
#X connect 85 0 75 0;
#X connect 86 0 87 0;
#X connect 87 0 77 0;
#X connect 89 0 90 0;
#X connect 91 0 92 0;
#X connect 93 0 94 0;
#X connect 95 0 2 0;
#X connect 102 0 103 0;
#X connect 103 0 105 0;
#X connect 104 0 101 0;
#X connect 105 0 101 0;
#X connect 106 0 104 0;
#X connect 107 0 108 0;
#X connect 108 0 104 0;
#X coords 0 -1 1 1 201 155 2 100 100;
