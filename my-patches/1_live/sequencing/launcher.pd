#N canvas 76 264 627 719 12;
#X obj 101 270 inlet;
#X obj 278 118 inlet;
#X obj 296 161 inlet;
#X obj 296 198 s \$0-i-loop;
#X obj 108 147 tgl 20 0 \$0-UI-launch-queue \$0-i-UI-launch-queue Launch 23 10 0 12 #e0e1e1 #000000 #000000 0 1;
#X obj 193 147 tgl 20 0 \$0-UI-loop \$0-i-UI-loop Loop 23 10 0 12 #e0e1e1 #000000 #000000 0 1;
#X text 213 100 LOOP;
#X obj 108 123 nbx 2 18 -1e+37 1e+37 0 0 \$0-UI-bar-count \$0-i-UI-bar-count Bar\ count 37 10 0 12 #fcfcfc #000000 #000000 0 256;
#X obj 111 174 hsl 130 20 1 3 0 0 \$0-slider-dummy \$0-i-slider empty -2 -10 0 12 #fcfcfc #000000 #000000 0 1;
#N canvas 66 32 927 977 launch-counter 0;
#X obj 308 225 nbx 2 18 -1e+37 1e+37 0 0 empty empty bar-count 36 10 0 12 #fcfcfc #000000 #000000 0 256;
#X obj 169 70 sel 1;
#X obj 169 104 f;
#X obj 176 128 + 1;
#X obj 169 154 + 1;
#X obj 169 225 sel, f 14;
#X obj 169 252 bng 20 250 50 0 empty empty end -25 10 0 12 #fcfcfc #000000 #000000;
#X obj 277 225 + 1;
#X msg 250 142 1;
#X msg 169 305 1;
#X msg 308 252 set \$1;
#X obj 308 277 s \$0-i-UI-bar-count;
#X obj 323 195 r \$0-UI-bar-count;
#X obj 250 65 inlet;
#X text 248 40 Restart Counter;
#X obj 169 332 outlet;
#X obj 169 39 inlet;
#X text 166 13 note number from signature;
#X obj 48 90 outlet;
#X text 168 354 Multi-ba finished, f 9;
#X obj 169 194 nbx 3 18 -1e+37 1e+37 0 0 empty empty bar-x-starts -89 8 0 12 #fcfcfc #000000 #000000 0 256;
#X obj 208 272 del 1;
#X text 253 312 del 1 is added due to buggy behaviour of number sent. in case of 2nd bar it sends out consecutively 1 and then 3 instead of 3 and then 1 no issue for the performance since there is a buffer time till next "first note" bang anyways, f 37;
#X obj 219 193 s \$0-bar-x;
#X text 9 111 First-Note-bang for launch to happen from next bar, f 19;
#X obj 411 105 inlet;
#X floatatom 117 39 5 0 0 0 - - - 0;
#X connect 0 0 7 0;
#X connect 0 0 10 0;
#X connect 1 0 2 0;
#X connect 1 0 18 0;
#X connect 2 0 3 0;
#X connect 2 0 4 0;
#X connect 3 0 2 1;
#X connect 4 0 20 0;
#X connect 5 0 6 0;
#X connect 6 0 9 0;
#X connect 6 0 21 0;
#X connect 7 0 5 1;
#X connect 8 0 2 1;
#X connect 8 0 20 0;
#X connect 9 0 15 0;
#X connect 10 0 11 0;
#X connect 12 0 0 0;
#X connect 13 0 8 0;
#X connect 16 0 1 0;
#X connect 16 0 26 0;
#X connect 20 0 5 0;
#X connect 20 0 23 0;
#X connect 21 0 8 0;
#X connect 25 0 0 0;
#X restore 101 339 pd launch-counter;
#N canvas 838 249 503 547 end-loop-func 0;
#X obj 109 96 tgl 20 0 empty empty loop 23 10 0 12 #fcfcfc #000000 #000000 0 1;
#X obj 78 96 *;
#X floatatom 78 175 5 0 0 0 - - - 0;
#X text 15 167 0: end 1: loop, f 8;
#X obj 149 40 r \$0-i-loop;
#X msg 135 121 set \$1;
#X obj 135 146 s \$0-i-UI-loop;
#X obj 154 64 r \$0-UI-loop;
#X obj 104 333 sel 1 0, f 10;
#N canvas 352 458 450 174 color-loop 0;
#X msg 140 67 color #e0e1e1;
#X obj 16 34 inlet;
#X obj 140 33 inlet;
#X obj 221 34 loadbang;
#X msg 16 67 color #8486f6;
#X obj 16 108 s \$0-i-UI-loop;
#X connect 0 0 5 0;
#X connect 1 0 4 0;
#X connect 2 0 0 0;
#X connect 3 0 0 0;
#X connect 4 0 5 0;
#X restore 104 369 pd color-loop;
#X text 140 422 Sending out end (0) will stop recording and playing in target sequencer. Sending out loop (1) ask target sequencer to loop/continue play and record., f 44;
#X obj 78 288 spigot;
#X obj 130 288 tgl 20 0 empty empty empty 0 -10 0 12 #fcfcfc #000000 #000000 0 1;
#X msg 181 259 0;
#X obj 130 210 sel 0 1, f 15;
#X obj 130 235 del 10;
#X msg 130 260 1;
#X floatatom 78 425 5 0 0 0 - - - 0;
#X obj 197 287 loadbang;
#X msg 163 287 1;
#X obj 130 184 r \$0-end-pass;
#X obj 209 370 s \$0-end;
#X obj 78 449 outlet;
#X obj 78 26 inlet;
#X text 243 181 when Launch is on queue \, do not send end/loop on the first note \, can send from next first notes depending on bar-count., f 28;
#X connect 0 0 1 1;
#X connect 0 0 5 0;
#X connect 1 0 2 0;
#X connect 2 0 11 0;
#X connect 4 0 0 0;
#X connect 5 0 6 0;
#X connect 7 0 0 0;
#X connect 8 0 9 0;
#X connect 8 1 9 1;
#X connect 8 1 21 0;
#X connect 11 0 8 0;
#X connect 11 0 17 0;
#X connect 12 0 11 1;
#X connect 13 0 12 0;
#X connect 14 0 15 0;
#X connect 14 1 13 0;
#X connect 15 0 16 0;
#X connect 16 0 12 0;
#X connect 17 0 22 0;
#X connect 18 0 19 0;
#X connect 19 0 12 0;
#X connect 20 0 14 0;
#X connect 23 0 1 0;
#X restore 217 370 pd end-loop-func;
#N canvas 1043 247 542 493 recorder-func 0;
#X obj 58 140 spigot;
#X obj 112 140 tgl 20 0 empty empty record-queue 23 10 0 12 #fcfcfc #000000 #000000 0 1;
#X obj 150 86 r \$0-i-rec;
#X msg 112 171 set \$1;
#X obj 112 196 s \$0-i-UI-rec-queue;
#X obj 152 113 r \$0-UI-rec-queue;
#X msg 112 86 0;
#X msg 103 343 set 0;
#X obj 103 369 s i-mpd-pad-7-rec-queue;
#X obj 58 49 inlet;
#X obj 58 171 bng 20 250 50 0 empty empty empty 0 -10 0 12 #fcfcfc #000000 #000000;
#N canvas 569 467 450 174 color-rec 0;
#X msg 140 67 color #e0e1e1;
#X obj 16 34 inlet;
#X obj 140 33 inlet;
#X obj 221 34 loadbang;
#X msg 16 67 color #ff0000;
#X obj 16 108 s \$0-i-rec-canvas;
#X connect 0 0 5 0;
#X connect 1 0 4 0;
#X connect 2 0 0 0;
#X connect 3 0 0 0;
#X connect 4 0 5 0;
#X restore 187 344 pd color-rec;
#X obj 268 235 r \$0-end;
#X obj 58 403 outlet;
#X obj 193 171 s \$0-end-pass;
#X text 55 27 First-Note-bang;
#X text 285 345 To stop recording even if loop is on: could tap on record pad again and the next bang sent will stop recording in target sequencer \; To stop playing simply remove loop., f 36;
#X obj 268 288 tgl 20 0 empty empty empty 0 -10 0 12 #fcfcfc #000000 #000000 0 1;
#X obj 268 313 sel 0;
#X msg 268 260 0;
#X connect 0 0 10 0;
#X connect 1 0 0 1;
#X connect 1 0 3 0;
#X connect 1 0 14 0;
#X connect 2 0 1 0;
#X connect 3 0 4 0;
#X connect 5 0 1 0;
#X connect 6 0 1 0;
#X connect 7 0 8 0;
#X connect 9 0 0 0;
#X connect 10 0 6 0;
#X connect 10 0 7 0;
#X connect 10 0 11 0;
#X connect 10 0 13 0;
#X connect 10 0 17 0;
#X connect 12 0 19 0;
#X connect 17 0 18 0;
#X connect 18 0 11 1;
#X connect 19 0 17 0;
#X restore 102 534 pd recorder-func;
#N canvas 372 260 450 484 launch-func 0;
#X obj 33 179 spigot;
#X obj 86 178 tgl 20 0 empty empty launch-queue 23 10 0 12 #fcfcfc #000000 #000000 0 1;
#X msg 86 109 0;
#X obj 33 207 bng 20 250 50 0 empty empty empty 0 -10 0 12 #fcfcfc #000000 #000000;
#X msg 86 208 set \$1;
#X obj 86 233 s \$0-i-UI-launch-queue;
#X obj 131 143 r \$0-UI-launch-queue;
#N canvas 655 439 450 174 color-launch 0;
#X obj 16 34 inlet;
#X obj 140 33 inlet;
#X obj 221 34 loadbang;
#X msg 16 67 color #00ff00;
#X obj 16 108 s \$0-i-UI-launch-queue;
#X msg 140 67 color #e0e1e1;
#X connect 0 0 3 0;
#X connect 1 0 5 0;
#X connect 2 0 5 0;
#X connect 3 0 4 0;
#X connect 5 0 4 0;
#X restore 94 296 pd color-launch;
#X obj 151 208 s \$0-end-pass;
#X obj 196 271 r \$0-end;
#X obj 33 384 outlet;
#X obj 33 77 inlet;
#X text 33 53 First-Note-bang;
#X obj 124 118 r \$0-i-launch-queue;
#X connect 0 0 3 0;
#X connect 1 0 0 1;
#X connect 1 0 4 0;
#X connect 1 0 8 0;
#X connect 2 0 1 0;
#X connect 3 0 7 0;
#X connect 3 0 2 0;
#X connect 3 0 10 0;
#X connect 4 0 5 0;
#X connect 6 0 1 0;
#X connect 9 0 7 1;
#X connect 11 0 0 0;
#X connect 13 0 1 0;
#X restore 101 370 pd launch-func;
#X obj 101 296 unpack f f;
#X obj 182 296 s \$0-bar-duration;
#N canvas 630 225 450 300 slider-run-func 0;
#X obj 28 245 s \$0-i-slider;
#X obj 28 79 loadbang;
#X obj 114 171 line;
#X msg 114 88 \$1;
#X obj 150 88 + 1;
#X obj 114 61 t f f;
#X msg 150 143 \$1 \$2;
#X obj 203 89 r \$0-bar-duration;
#X obj 150 118 pack f f;
#X obj 28 129 + 1;
#X msg 28 172 range 1 \$1;
#X obj 114 32 r \$0-bar-x;
#X obj 28 104 f \$2;
#X connect 1 0 12 0;
#X connect 2 0 0 0;
#X connect 3 0 2 0;
#X connect 4 0 8 0;
#X connect 5 0 4 0;
#X connect 5 1 3 0;
#X connect 6 0 2 0;
#X connect 7 0 8 1;
#X connect 8 0 6 0;
#X connect 9 0 10 0;
#X connect 10 0 0 0;
#X connect 11 0 5 0;
#X connect 12 0 9 0;
#X restore 337 296 pd slider-run-func;
#X text 308 296 -->;
#X text 143 269 note number and bar duration from signature;
#X text 101 439 BANG;
#X text 216 439 0: END 1: LOOP, f 7;
#X obj 271 338 loadbang;
#X obj 233 338 f \$2;
#X text 21 16 VERSION 1 ----- LAUNCHER/CONTROL ABSTRACTION FOR CLIP;
#X obj 217 417 s \$1-End-Loop;
#X obj 101 416 s \$1-Launch;
#X obj 278 226 s \$0-i-launch-queue;
#X text 277 97 launch-queue(bang);
#X text 294 140 end-loop (bang);
#X text 424 13 Arguments \; ------------- \; \$1 Clip-number \$2 Bar-count, f 15;
#X obj 25 48 text define -k notes;
#A set -------------------- \; Launcher Abstraction \; -------------------- \; - expects two construction parameters defining 1) Clip numebr it is used in and 2) bar count \; - construction parameter 2 (bar-count) Could be changed on the go but it will not be saved \; - Recieves on inlet 1 a list \; ** element 1) note number: to later extract first notes in launch-counter \; ** element 2) bar-duration: only needed for slider simulation \; - recieves on inlet 2 a bang to start queue for launch \; - recieves on inlet 3 a bang to loop or end \; - outputs through send using clip number as prefix: 1) Launch (bang) and 2) End(0)-Loop(1) \; --------------------- \; note on functionality \; --------------------- \; - When launch queue is toggeled ON \, upon note 1 arrives from signature \, Launch will be send out (to clip sequencer) \; - Upon Launch \, Launcher will start from first bar (resetting launch-counter) \; - When Loop is toggled on Launcher will loop \, sending 1 on \$1-End-Loop at the end of each multi-bar to be used by sequencers \; - If Loop is toggeled OFF at the end of multi-bar 0 will be sent and sequencer use this to stop \;;
#X text 139 100 LAUNCH-Q;
#X text 101 100 SIG;
#X obj 333 418 r \$0-bar-x;
#X text 100 511 Removed;
#X obj 333 443 s \$1-bar-x;
#X connect 0 0 13 0;
#X connect 1 0 25 0;
#X connect 2 0 3 0;
#X connect 9 0 12 0;
#X connect 9 1 10 0;
#X connect 10 0 23 0;
#X connect 12 0 9 1;
#X connect 12 0 24 0;
#X connect 13 0 9 0;
#X connect 13 1 14 0;
#X connect 20 0 21 0;
#X connect 21 0 9 2;
#X connect 32 0 34 0;
#X coords 0 -1 1 1 150 101 2 100 100;
